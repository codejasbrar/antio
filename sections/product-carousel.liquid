<section id="product_carousel_section">
<div class="product_slider">
    <h4 class="small_heading">{{ section.settings.small_heading }}</h4>
    <h2 class="main_heading">{{ section.settings.main_heading }}</h2>
  <div class="product_slider_inner">
    {% for block in section.blocks %}
        {%- assign product = all_products[block.settings.products] -%}
     <div class="home_products_items">
        <img src="{% if product.featured_image != blank %} {{ product.featured_image | img_url: 'master' }} {% else %} {{ block.settings.product_image | img_url: 'master' }} {% endif %} ">
        <div class="product_home_content">
          <h3 class="product_heading">{{ product.title }}</h3>
          <p class="product_content">{{ block.settings.product_subheading }}</p>
        </div>
          <a class="btn btn-solid" href="{{ product.url }}"> {{ block.settings.btn_text }} </a>
      </div>
    {% endfor %}
  </div>  
</div>
</section>


<script>

  $('.product_slider_inner').slick({
  autoplay: true,
  autoplaySpeed: 2000,
  infinite: true,
  speed: 2000,
  slidesToShow: 4,
  slidesToScroll: 1,
  arrows: false,
  dots: false,
        responsive: [
            {
                breakpoint: 0,
                settings: {
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    dots: true
                }
            },
            {
                breakpoint: 768,
                settings: {
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    dots: true
                }
            },
            {
                breakpoint: 1920,
                settings: {
                    slidesToShow: 3,
                    slidesToScroll: 1
                }
            }
          ]
});
  
</script>

{% schema %}
  {
    "name": "Product carousel section",
    "settings": [
		{
			"type": "text",
			"id": "small_heading",
			"label": "Small heading"
		},
		{
			"type": "text",
			"id": "main_heading",
			"label": "Main heading"
		}
],
  "blocks": [
    {
      "type": "product",
      "name": {
        "en": "Product carousel"
      },
      "settings": [
		{
			"type": "product",
			"id": "products",
			"label": "Select Product"
		},
		{
			"type": "image_picker",
			"id": "product_image",
			"label": "Product image"
		},
		{
			"type": "text",
			"id": "product_subheading",
			"label": "Product subheading"
		},
		{
			"type": "text",
			"id": "btn_text",
			"label": "Button text"
		}
]
}
],
  "presets": [
    {
      "name": {
        "en": "Product carousel"
      },
      "category": {
        "en": "Homepage"
      }
    }
  ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
